@model Zamowienie

<div class="container mt-4">
    <h2 class="text-center text-white">Szczegóły zamówienia</h2>

    <div class="card bg-dark text-white p-3">
        <p><strong class="text-white">Data zamówienia:</strong> @Model.DataZamowienia.ToString("dd-MM-yyyy HH:mm")</p>
        <p><strong class="text-white">Adres dostawy:</strong> @Model.Ulica @Model.NumerBudynku, @Model.KodPocztowy @Model.Miejscowosc</p>
        <p><strong class="text-white">Przewidywany czas realizacji:</strong> @Model.PrzewidywanyCzasRealizacji min</p>
        <p><strong class="text-white">Status:</strong> 
            @if(Model.Status == 0) 
            { 
                <span class="text-warning">Anulowane</span> 
            }
            else if (Model.Status == 1) 
            { 
                <span class="text-info">Złożone</span> 
            }
            else if (Model.Status == 2)
            {
                <span class="text-primary">W przygotowaniu</span>
            }
            else if (Model.Status == 3)
            {
                <span class="text-success">W dostawie</span>
            }
            else if (Model.Status == 4)
            {
                <span class="text-success">Zrealizowane</span>
            }
        </p>
        <p><strong class="text-white">Cena całkowita:</strong> @Model.CenaCalkowita.ToString("C")</p>
        @if (Model.Opinia != null)
        {
            <p><strong class="text-white">Opinia: </strong>@Model.Opinia.Ocena - @Model.Opinia.Komentarz</p>
        }
        @if (Model.Status == 1)
        {
            <a asp-action="CancelOrder" asp-route-id="@Model.Id" class="btn btn-danger text-white">Anuluj zamówienie</a>
        }
        else if(Model.Status == 4 && Model.Opinia == null)
        {
            <a asp-action="AddReview" asp-route-ZamowienieId="@Model.Id" class="btn btn-success text-white">Oceń zamówienie</a>
        }
        <a asp-action="ReOrder" asp-route-id="@Model.Id" class="btn btn-info text-white">Ponownie zamów</a>
    </div>

    <h3 class="text-center text-white mt-4">Zamówione produkty</h3>
    <table class="table table-bordered table-striped">
        <thead class="bg-dark text-white">
            <tr>
                <th>Nazwa</th>
                <th>Opis</th>
                <th>Cena</th>
                <th>Czas przygotowania</th>
                <th>Kategoria</th>
                <th>Zdjęcie</th>
                <th>Ilość</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var produkt in Model.ZamowioneProdukty)
            {
                <tr class="bg-dark text-white">
                    <td>@produkt.Produkt.Nazwa</td>
                    <td>@produkt.Produkt.Opis</td>
                    <td>@produkt.Produkt.Cena.ToString("C")</td>
                    <td>@produkt.Produkt.CzasPrzygotowania min</td>
                    <td>@produkt.Produkt.Kategoria.Nazwa</td>
                    <td>
                        @if (!string.IsNullOrEmpty(produkt.Produkt.Zdjecie))
                        {
                            <img src="@produkt.Produkt.Zdjecie" alt="Zdjęcie produktu" class="img-thumbnail" style="width: 100px;">
                        }
                        else
                        {
                            <span class="text-white">Brak zdjęcia</span>
                        }
                    </td>
                    <td>@produkt.Ilosc</td>
                </tr>
            }
        </tbody>
    </table>
</div>
